<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9-dev">
<meta name="Forrest-skin-name" content="pelt">
<title>The Barcode XML format</title>
<link type="text/css" href="../skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="../skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="../skin/print.css" rel="stylesheet">
<link type="text/css" href="../skin/profile.css" rel="stylesheet">
<script src="../skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="../skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="../skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="../images/favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href="http://barcode4j.sourceforge.net/"><img class="logoImage" alt="Barcode4J" src="../resources/images/barcode4j-logo.gif" title="A free barcode generator written in Java"></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogo">
<a href="http://barcode4j.sourceforge.net/"><img class="logoImage" alt="" src="../skin/images/spacer.gif" title=""></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Search
    +-->
<div class="searchbox">
<form action="http://www.google.com/search" method="get" class="roundtopsmall">
<input value="barcode4j.sourceforge.net" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; 
                    <input name="Search" value="Search" type="submit">
</form>
</div>
<!--+
    |end search
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li>
<a class="unselected" href="../index.html">Home</a>
</li>
<li>
<a class="unselected" href="../1.0/index.html">Version 1.0</a>
</li>
<li class="current">
<a class="selected" href="../2.0/index.html">Version 2.0</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.sf.net/projects/barcode4j/">SourceForge Project Page</a><script src="../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', '../skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('../skin/images/chapter_open.gif');">Version 2.0</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../2.0/index.html">Overview</a>
</div>
<div onclick="SwitchMenu('menu_1.1.2', '../skin/')" id="menu_1.1.2Title" class="menutitle">Getting started</div>
<div id="menu_1.1.2" class="menuitemgroup">
<div class="menuitem">
<a href="../2.0/building.html">Build&nbsp;Barcode4J</a>
</div>
<div class="menuitem">
<a href="../2.0/running.html">Run&nbsp;Barcode4J</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.3', '../skin/')" id="menu_selected_1.1.3Title" class="menutitle" style="background-image: url('../skin/images/chapter_open.gif');">The Barcode XML Format</div>
<div id="menu_selected_1.1.3" class="selectedmenuitemgroup" style="display: block;">
<div class="menupage">
<div class="menupagetitle">General information</div>
</div>
<div class="menuitem">
<a href="../2.0/symbol-interleaved2of5.html">Interleaved 2 of 5</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-codabar.html">Codabar</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-code39.html">Code 39</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-code128.html">Code 128</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-upc-a.html">UPC-A</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-upc-e.html">UPC-E</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-ean-13.html">EAN-13</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-ean-8.html">EAN-8</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-ean-128.html">EAN-128</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-postnet.html">POSTNET</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-royal-mail-cbc.html">Royal Mail CBC</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-usps4cb.html">USPS Intelligent Mail</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-pdf417.html">PDF417</a>
</div>
<div class="menuitem">
<a href="../2.0/symbol-datamatrix.html">DataMatrix</a>
</div>
</div>
<div class="menuitem">
<a href="../2.0/output-formats.html">Output Formats</a>
</div>
<div class="menuitem">
<a href="../2.0/design.html">Design</a>
</div>
<div class="menuitem">
<a href="http://barcode4j.sourceforge.net/2.0/javadocs/index.html">Javadocs</a>
</div>
<div onclick="SwitchMenu('menu_1.1.7', '../skin/')" id="menu_1.1.7Title" class="menutitle">Scenarios</div>
<div id="menu_1.1.7" class="menuitemgroup">
<div class="menuitem">
<a href="../2.0/xsl-fo.html">XSL-FO</a>
</div>
<div class="menuitem">
<a href="../2.0/svg-dom.html">SVG DOM</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.8', '../skin/')" id="menu_1.1.8Title" class="menutitle">Creating&nbsp;Barcodes</div>
<div id="menu_1.1.8" class="menuitemgroup">
<div class="menuitem">
<a href="../2.0/fop-ext.html">...with FOP</a>
</div>
<div class="menuitem">
<a href="../2.0/xalan-ext.html">...with Xalan-J</a>
</div>
<div class="menuitem">
<a href="../2.0/saxon-ext.html">...with SAXON</a>
</div>
<div class="menuitem">
<a href="../2.0/servlet.html">...with a Servlet</a>
</div>
<div class="menuitem">
<a href="../2.0/cli.html">...from the Command Line</a>
</div>
<div class="menuitem">
<a href="../2.0/embedding.html">...embedding in Java (XML API)</a>
</div>
<div class="menuitem">
<a href="../2.0/embedding-bean.html">...embedding in Java (Bean API)</a>
</div>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="../skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="barcode-xml.pdf"><img alt="PDF -icon" src="../skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>The Barcode XML format</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Introduction">Introduction</a>
</li>
<li>
<a href="#General+structure">General structure</a>
<ul class="minitoc">
<li>
<a href="#General+structure+in+XSLT+Stylesheet">General structure in XSLT Stylesheet</a>
</li>
</ul>
</li>
<li>
<a href="#Datatypes">Datatypes</a>
</li>
<li>
<a href="#Barcode+XML+Format%3A+Abbreviated+version">Barcode XML Format: Abbreviated version</a>
</li>
<li>
<a href="#pattern"> Human-readable message pattern </a>
</li>
<li>
<a href="#supported">Configuration details for all supported symbologies</a>
</li>
</ul>
</div>
</div>
    
<a name="N1000C"></a><a name="Introduction"></a>
<h2 class="underlined_10">Introduction</h2>
<div class="section">
<p>
        This page describes the XML format used by <strong>Barcode4J</strong> to define barcodes. 
        It also contains notes about the message format supported by each symbology.
      </p>
</div>
    
<a name="N10019"></a><a name="General+structure"></a>
<h2 class="underlined_10">General structure</h2>
<div class="section">
<p>
        The general structure of the Barcode XML format looks like this:
      </p>
<pre class="code">&lt;barcode message="123456789"&gt;
    &lt;{type}&gt;
      {barcode-specific configuration}
    &lt;/{type}&gt;
&lt;/barcode&gt;</pre>
<p>
        Replace <strong>{type}</strong> with the name of the barcode type, ex. "ean13" or "code39". You can also use the 
        fully qualified classname of the implementing class, ex. "org.krysalis.barcode4j.impl.Code39". If 
        you use a name it will be resolved internally using the <span class="codefrag">BarcodeClassResolver</span> interface.
      </p>
<a name="N1002F"></a><a name="General+structure+in+XSLT+Stylesheet"></a>
<h3 class="underlined_5">General structure in XSLT Stylesheet</h3>
<p>
          When implementing with <a href="xalan-ext.html">Usage with Xalan-J</a>, <a href="saxon-ext.html">Usage with SAXON</a>, or <a href="fop-ext.html">Usage with FOP</a>, the general structure of the Barcode XML format changes slightly, to include the barcode namespace. For example, when using Barcode 4J with FOP, it looks like this:
        </p>
<pre class="code">&lt;barcode:barcode
    xmlns:barcode="http://barcode4j.krysalis.org/ns"
    message="123456789"&gt;
  &lt;barcode:{type}&gt;
    {barcode-specific configuration}
  &lt;/barcode:{type}&gt;
&lt;/barcode:barcode&gt;</pre>
<p>
        The barcode-specific configuration is a set of elements and attributes defined by the barcode implementation
        itself. Please see further down for specifics. But here's an example:
      </p>
<pre class="code">&lt;barcode&gt;
  &lt;intl2of5&gt;
    &lt;height&gt;10mm&lt;/height&gt;
    &lt;wide-factor&gt;2.5&lt;/wide-factor&gt;
  &lt;/intl2of5&gt;
&lt;/barcode&gt;</pre>
<div class="note">
<div class="label">Note</div>
<div class="content">
      	In the examples below, the sample code <span class="codefrag">&lt;height&gt;{length}&lt;/height&gt;</span> would be changed to
		<span class="codefrag">&lt;height&gt;10mm&lt;/height&gt;</span> (replacing everything between the "{" and "}"
		<strong>including the "{" and "}" marks</strong>), as is shown in the example code fragment below.
      </div>
</div>
</div>
    
<a name="N1005D"></a><a name="Datatypes"></a>
<h2 class="underlined_10">Datatypes</h2>
<div class="section">
<p>
        The values for the configuration elements are of various datatypes:
      </p>
<ul>
        
<a name="boolean"></a>
<li id="boolean">{boolean}: The values <span class="codefrag">true</span>|<span class="codefrag">yes</span>|<span class="codefrag">on</span> or <span class="codefrag">false</span>|<span class="codefrag">no</span>|<span class="codefrag">off</span>.</li>
        
<a name="string"></a>
<li id="string">{string}: A simple unicode string of text like "<span class="codefrag">Hello123</span>".</li>
        
<a name="char"></a>
<li id="char">{char}: A unicode character.</li>
        
<a name="number"></a>
<li id="number">{number}: A number such as "2.43" or "5".</li>
        
<a name="unit"></a>
<li id="unit">{unit}: length unit, one of <span class="codefrag">mm</span>, <span class="codefrag">cm</span>, or <span class="codefrag">pt</span>.
          <ul>
            
<li>The default unit is normally "mm" (Millimeters) but is implementation-dependent.</li>
            
<li>A special unit supported in certain places is "mw" (module width). This is used in 
              certain 1D barcode to specify values like "10 times the module width", ex. for the quiet zone.
            </li>
          
</ul>
        
</li>
        
<a name="length"></a>
<li id="length">{length}: A length in the form "{<a href="#number">number</a>}[[ ]{<a href="#unit">unit</a>}]". Examples: <span class="codefrag">1.2mm</span>, <span class="codefrag">5.0</span>, <span class="codefrag">3</span>, or <span class="codefrag">10mw</span>.</li>
        
<a name="checksum-mode"></a>
<li id="checksum-mode">{checksum-mode}: The checksum mode determines the behaviour for checksums. Possible values (not 
        	all values are supported by all barcode formats):
          <ul>
            
<li>add: the checksum is automatically added to the message.</li>
            
<li>check: the checksum is checked while rendering the barcode.</li>
            
<li>ignore: no checksum processing is done.</li>
            
<li>auto: Enables the barcode type's default behaviour.</li>
          
</ul>
        
</li>
        
<a name="human-readable-placement"></a>
<li id="human-readable-placement">{human-readable-placement}: This enumeration determines the placement of the human-readable part 
        	of a barcode. Possible values:
          <ul>
            
<li>bottom: the message is placed at the bottom of the symbol.</li>
            
<li>top: the message is placed at the top of the symbol.</li>
            
<li>none: no human-readable part is generated.</li>
          
</ul>
        
</li>
        
<a name="baseline-alignment"></a>
<li id="baseline-alignment">{baseline-alignment}: This enumeration determines the alignment of the lines of barcodes such as
         POSTNET.
          <ul>
            
<li>bottom: Short and long lines are aligned at the bottom.</li>
            
<li>top: Short and long lines are aligned at the top.</li>
          
</ul>
        
</li>
        
<a name="font-name"></a>
<li id="font-name">{font-name}: As the name says, a font name used in outputting <span class="codefrag">&lt;font-name/&gt;</span>. Note that not all fonts are available for all output formats.</li>
        
<a name="shape"></a>
<li id="shape">{shape}: This enumeration determines the choice of symbol settings for 
          DataMatrix barcodes.
          <ul>
            
<li>force-none: Both square and rectangular symbols are allowed.</li>
            
<li>force-square: Force the use of square symbols.</li>
            
<li>force-rectangle: Force the use of rectangular symbols.</li>
          
</ul>
        
</li>
      
</ul>
<p>
        Datatypes below are often given in the format "{<a href="#length">length</a>:15mm}". The value after the datatype indicates 
        the default value.
      </p>
<div class="note">
<div class="label">Note</div>
<div class="content">
      	If the datatype specifies a default value (as in <span class="codefrag">{length:15mm}</span> above), this means that the whole element is optional. In this case, the default <span class="codefrag">15mm</span> would be applied.
      </div>
</div>
</div>
    
<a name="N10114"></a><a name="Barcode+XML+Format%3A+Abbreviated+version"></a>
<h2 class="underlined_10">Barcode XML Format: Abbreviated version</h2>
<div class="section">
<p>
        The Barcode XML format can be "abbreviated" (thereby accepting all default values) as in this Code 39 example:
      </p>
<pre class="code">&lt;barcode message="123456789"&gt;
  &lt;<a href="symbol-code39.html">code39</a>/&gt;
&lt;/barcode&gt;</pre>
<p>
        In this case, the defaults are assumed, and the result is effectively:
      </p>
<pre class="code">&lt;barcode message="<a href="#string">123456789</a>"&gt;
  &lt;<a href="symbol-code39.html">code39</a>&gt;
    &lt;height&gt;<a href="#length">15mm</a>&lt;/height&gt;
    &lt;module-width&gt;<a href="#length">0.19mm</a>&lt;/module-width&gt;
    &lt;wide-factor&gt;<a href="#number">2.5</a>&lt;/wide-factor&gt;
    &lt;interchar-gap-width&gt;<a href="#length">1mw</a>&lt;/interchar-gap-width&gt;
    &lt;quiet-zone enabled="<a href="#boolean">true</a>"&gt;<a href="#length">10mw</a>&lt;/quiet-zone&gt;
    &lt;checksum&gt;<a href="#checksum-mode">auto</a>&lt;/checksum&gt;
    &lt;human-readable&gt;
      &lt;placement&gt;<a href="#human-readable-placement">bottom</a>&lt;/placement&gt;
      &lt;font-name&gt;<a href="#font-name">Helvetica</a>&lt;/font-name&gt;
      &lt;font-size&gt;<a href="#length">8pt</a>&lt;/font-size&gt;
      &lt;pattern&gt;<a href="#string">{string}</a>&lt;/pattern&gt; &lt;!-- see <a href="#pattern">below</a> for details --&gt;
      &lt;display-start-stop&gt;<a href="#boolean">false</a>&lt;/display-start-stop&gt;
      &lt;display-checksum&gt;<a href="#boolean">false</a>&lt;/display-checksum&gt;
    &lt;/human-readable&gt;
  &lt;/<a href="symbol-code39.html">code39</a>&gt;
&lt;/barcode&gt;</pre>
</div>
    
<a name="N10171"></a><a name="pattern"></a>
<h2 class="underlined_10"> Human-readable message pattern </h2>
<div class="section">
<p>
        General 1D symbologies have no inner structure. That's why they are used where custom 
        messages should be encoded - most often some very big numbers with a lot of digits.
        These are very hard to read if there is no grouping. Or you can have a date and time 
        encoded as contiguous set of digits. In order to make it easy for people to read complicated 
        long messages a pattern is required. There is a facility to add custom patterns to a 
        human-readable message. However, it only applies to Interleaves 2 of 5, Code 39, 
        Code 128 and Codabar. Other symbologies either have no human-readable part or require
        special formatting of the message (like UPC/EAN).
      </p>
<pre class="code">
&lt;human-readable&gt;
  &lt;pattern&gt;<a href="#string">{string}</a>&lt;/pattern&gt;
&lt;/human-readable&gt;</pre>
<p>
        In the pattern the underscore "_" is used as placeholder for the next message character. 
        The other characters within the pattern are inserted between the message symbols. The 
        backslash "\" is escape symbol. Combination of '\?' will include '?' in the 
        human-readable message, where '?' can be any character including underscore '_' and 
        backslash '\'.
      </p>
<p>
        
<strong>Examples:</strong>
      
</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
       
<tr>
         
<td colspan="1" rowspan="1"><strong>Barcode message</strong></td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">1234567890</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">01012001103854</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">1234567890</span>
<br>&nbsp;</td>
       
</tr>
       
<tr>
         
<td colspan="1" rowspan="1"><strong>Human-readable pattern</strong></td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">____ ____ __</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">__/__/____ __:__:__ UTC</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">____\\___\____</span>
<br>&nbsp;</td>
       
</tr>
       
<tr>
         
<td colspan="1" rowspan="1"><strong>Human-readable message</strong></td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">1234 5678 90</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">01/01/2001 10:38:54 UTC</span>
<br>&nbsp;</td>
         <td colspan="1" rowspan="1">
<br>
<span class="codefrag">1234\567_890</span>
<br>&nbsp;</td>
       
</tr>
      
</table>
</div>
    
<a name="N101FB"></a><a name="supported"></a>
<h2 class="underlined_10">Configuration details for all supported symbologies</h2>
<div class="section">
<ul>
        
<li>General 1D symbologies:
          <ul>
            
<li>
<a href="symbol-interleaved2of5.html">Interleaved 2 of 5</a>
</li>
            
<li>
<a href="symbol-codabar.html">Codabar</a>
</li>
            
<li>
<a href="symbol-code39.html">Code 39</a>
</li>
            
<li>
<a href="symbol-code128.html">Code 128</a>
</li>
          
</ul>
        
</li>
        
<li>UPC/EAN group:
          <ul>
            
<li>
<a href="symbol-upc-a.html">UPC-A</a>
</li>
            
<li>
<a href="symbol-upc-e.html">UPC-E</a>
</li>
            
<li>
<a href="symbol-ean-13.html">EAN-13</a>
</li>
            
<li>
<a href="symbol-ean-8.html">EAN-8</a>
</li>
            
<li>
<a href="symbol-ean-128.html">EAN-128</a>
</li>
          
</ul>
        
</li>
        
<li>Postal symbologies:
          <ul>
            
<li>
<a href="symbol-postnet.html">POSTNET</a>
</li>
            
<li>
<a href="symbol-royal-mail-cbc.html">Royal Mail Customer Barcode (4-State)</a>
</li>
            
<li>
<a href="symbol-usps4cb.html">USPS Intelligent Mail (4-State Customer Barcode)</a>
</li>
          
</ul>
        
</li>
        
<li>2D symbologies:
          <ul>
            
<li>
<a href="symbol-pdf417.html">PDF417</a>
</li>
            
<li>
<a href="symbol-datamatrix.html">DataMatrix</a>
</li>
          
</ul>
        
</li>
      
</ul>
</div>
  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2003-2008 The Barcode4J Project.</div>
<div class="host">
<a href="http://sourceforge.net"><img class="logoImage" alt="" src="http://sourceforge.net/sflogo.php?&group_id=36516&type=1"></a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
